{% extends "base.html" %}

{% block title %}Driver Dashboard{% endblock %}

{% block content %}
<h2>Welcome, {{ user.username }}!</h2>

<div class="dashboard-container">
    <section>
        <h3>ğŸ“Œ Your Assigned Jobs</h3>
        <ul class="job-list">
            {% for job in accepted_jobs %}
            <li>
                ğŸš— {{ job.description }}  
                <br>ğŸ“ {{ job.pickup_location }} â†’ {{ job.dropoff_location }} 
                <br>ğŸ•’ Status: <strong>{{ job.status }}</strong>
            </li>
            {% else %}
            <li>No assigned jobs yet.</li>
            {% endfor %}
        </ul>
    </section>

    <section>
        <h3>ğŸ›  Available Jobs</h3>
        <ul class="job-list">
            {% for job in available_jobs %}
            <li>
                ğŸš™ {{ job.description }}  
                <button onclick="acceptJob('{{ job.id }}')">âœ… Accept Job</button>
            </li>
            {% else %}
            <li>No jobs available right now.</li>
            {% endfor %}
        </ul>
    </section>

    <section>
        <h3>âš™ Account Actions</h3>
        <button onclick="location.href='#'">Request Time-Off</button>
        <button onclick="location.href='#'">View Work Hours</button>
    </section>
</div>

<script>
    function acceptJob(jobId) {
        alert("Accepted Job ID: " + jobId);
        // Here, you would send a request to the server to accept the job
    }
</script>

{% endblock %}
